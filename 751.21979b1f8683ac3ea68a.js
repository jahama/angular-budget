"use strict";(self.webpackChunkangular_budget=self.webpackChunkangular_budget||[]).push([[751],{751:(st,g,a)=>{a.r(g),a.d(g,{HomeModule:()=>ot});var i=a(583),t=a(476);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.ez]]}),e})();var T=a(668),d=a(116),p=a(922),m=a(207),f=a(340),h=a(841);let j=(()=>{class e{constructor(n){this.http=n}getProjects$(){return this.http.get(f.N.apiHost+"projects").pipe((0,m.U)(n=>n.data))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_=(()=>{class e{constructor(n){this.http=n}getTasksByProjectId$(n){return this.http.get(`${f.N.apiHost}projects/${n}/tasks`).pipe((0,m.U)(s=>s.data))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=a(721);let y=(()=>{class e extends v.y{constructor(){super({loading:!1,error:!1,projects:[],tasks:[]})}setLoadingState(n){const s=this.getState();s.loading=n,this.setState(s)}setErrorState(n){const s=this.getState();s.error=n,this.setState(s)}addProjects(n){const s=this.getState(),c=n.map(r=>Object.assign(Object.assign({},r),{pendingTasks:0,completedTasks:0}));s.projects=s.projects.concat(c),this.setState(s)}addTasks(n){const s=this.getState();s.tasks=s.tasks.concat(n),this.setState(s)}updateProjectTasks(n,s){const c=this.getState(),r=c.projects.find(l=>l.id===n);r&&(r.pendingTasks=s.filter(l=>!1===l.done).length,r.completedTasks=s.filter(l=>!0===l.done).length),this.setState(c)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),C=(()=>{class e{constructor(n,s,c){this.projects=n,this.tasks=s,this.store=c,this.projectViews$=this.store.select$(r=>r.projects),this.tasks$=this.store.select$(r=>r.tasks),this.loading$=this.store.select$(r=>r.loading),this.error$=this.store.select$(r=>r.error)}loadProjectViews(){this.store.setLoadingState(!0),this.projects.getProjects$().pipe((0,p.b)(n=>this.store.addProjects(n)),(0,p.b)(()=>this.store.setLoadingState(!1)),(0,p.b)(n=>n.forEach(s=>this.loadTasksByProjectId(s.id)))).subscribe({error:n=>{this.store.setLoadingState(!1),this.store.setErrorState(!0)}})}loadTasksByProjectId(n){this.tasks.getTasksByProjectId$(n).pipe((0,p.b)(s=>this.store.addTasks(s)),(0,p.b)(s=>this.store.updateProjectTasks(n,s))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(j),t.LFG(_),t.LFG(y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=a(409);function S(e,o){if(1&e&&(t.TgZ(0,"a",6),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.caption)}}const P=[[["main"]]],b=["main"];let x=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-card"]],inputs:{card:"card"},ngContentSelectors:b,decls:8,vars:2,consts:[[1,"card","m-4"],[1,"card-header"],[1,"card-header-title","is-size-4"],[1,"card-content"],[1,"card-footer"],["class","card-footer-item",3,"href",4,"ngFor","ngForOf"],[1,"card-footer-item",3,"href"]],template:function(n,s){1&n&&(t.F$t(P),t.TgZ(0,"article",0),t.TgZ(1,"header",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"main",3),t.Hsn(5),t.qZA(),t.TgZ(6,"footer",4),t.YNc(7,S,2,2,"a",5),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Oqu(s.card.title),t.xp6(4),t.Q6J("ngForOf",s.card.actions))},directives:[i.sg],styles:[""],changeDetection:0}),e})(),U=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-tag"]],inputs:{tag:"tag"},decls:7,vars:6,consts:[[1,"mt-3"],[1,""],[1,"is-pulled-right"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t.TgZ(4,"label"),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Oqu(s.tag.caption),t.xp6(2),t.Gre("tag is-light is-medium ",s.tag.statusClass||"is-info",""),t.xp6(1),t.Oqu(s.tag.value),t.xp6(1),t.hij(" ",s.tag.units||""," "))},styles:[""],changeDetection:0}),e})(),k=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-no-data-yet"]],decls:6,vars:0,consts:[[1,"message","is-warning","is-large"],[1,"message-header"],[1,"message-body"]],template:function(n,s){1&n&&(t.TgZ(0,"article",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t._uU(3,"\u{1f4ab} No data yet"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._uU(5," Go ahead and create your first data set. "),t.qZA(),t.qZA())},styles:[""],changeDetection:0}),e})();var u=a(355);let q=(()=>{class e{transform(n,...s){return(0,u.em)(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"projectStatus",type:e,pure:!0}),e})(),L=(()=>{class e{transform(n,...s){return(0,u.g3)(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"pending",type:e,pure:!0}),e})(),F=(()=>{class e{transform(n,...s){return(0,u.S4)(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"completed",type:e,pure:!0}),e})();const $=function(e){return{caption:"Ends",value:e}};function D(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"ab-tag",8),t.ALo(2,"date"),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("tag",t.VKq(3,$,t.lcZ(2,1,n.endDate)))}}const H=function(){return{caption:"Edit",link:"#"}},I=function(){return{caption:"Delete",link:"#"}},w=function(e,o){return[e,o]},O=function(e,o){return{title:e,actions:o}},Y=function(e){return{caption:"Starts",value:e}},B=function(e){return{caption:"Budget",value:e}},J=function(e,o){return{caption:"Status",value:e,statusClass:o}},N=function(e,o){return{caption:"Pending Tasks",value:e,statusClass:o}},Q=function(e,o){return{caption:"Completed Tasks",value:e,statusClass:o}};function M(e,o){if(1&e&&(t.TgZ(0,"ab-card",6),t.TgZ(1,"main"),t.TgZ(2,"p",7),t._uU(3),t.qZA(),t.TgZ(4,"section"),t._UZ(5,"ab-tag",8),t.ALo(6,"date"),t.YNc(7,D,3,5,"ng-container",9),t._UZ(8,"ab-tag",8),t.ALo(9,"number"),t._UZ(10,"ab-tag",8),t.ALo(11,"projectStatus"),t._UZ(12,"ab-tag",8),t.ALo(13,"pending"),t._UZ(14,"ab-tag",8),t.ALo(15,"completed"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.Q6J("card",t.WLB(23,O,n.name,t.WLB(20,w,t.DdM(18,H),t.DdM(19,I)))),t.xp6(3),t.Oqu(n.description),t.xp6(2),t.Q6J("tag",t.VKq(26,Y,t.lcZ(6,8,n.startDate))),t.xp6(2),t.Q6J("ngIf",n.endDate),t.xp6(1),t.Q6J("tag",t.VKq(28,B,t.lcZ(9,10,n.budget))),t.xp6(2),t.Q6J("tag",t.WLB(30,J,n.status,t.lcZ(11,12,n.status))),t.xp6(2),t.Q6J("tag",t.WLB(33,N,n.pendingTasks,t.lcZ(13,14,n.pendingTasks))),t.xp6(2),t.Q6J("tag",t.WLB(36,Q,n.completedTasks,t.lcZ(15,16,n.completedTasks)))}}function E(e,o){if(1&e&&(t.TgZ(0,"section"),t.TgZ(1,"h2",2),t._uU(2,"List of projects"),t.qZA(),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"main",4),t.YNc(6,M,16,39,"ab-card",5),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(4),t.hij("Here we have ",n.projects.length," projects"),t.xp6(2),t.Q6J("ngForOf",n.projects)}}function z(e,o){1&e&&t._UZ(0,"ab-no-data-yet")}let W=(()=>{class e{constructor(){this.projects=null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-projects"]],inputs:{projects:"projects"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noDataYet",""],[1,"title"],[1,"subtitle"],[1,"columns","is-multiline"],["class","column is-one-quarter-desktop is-half-tablet",3,"card",4,"ngFor","ngForOf"],[1,"column","is-one-quarter-desktop","is-half-tablet",3,"card"],[1,"has-text-centered","is-italic"],[3,"tag"],[4,"ngIf"]],template:function(n,s){if(1&n&&(t.YNc(0,E,7,2,"section",0),t.YNc(1,z,1,0,"ng-template",null,1,t.W1O)),2&n){const c=t.MAs(2);t.Q6J("ngIf",s.projects&&s.projects.length>0)("ngIfElse",c)}},directives:[i.O5,i.sg,x,U,k],pipes:[i.uU,i.JJ,q,L,F],styles:[""],changeDetection:0}),e})(),V=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-error"]],decls:6,vars:0,consts:[[1,"message","is-danger","is-large"],[1,"message-header"],[1,"message-body"]],template:function(n,s){1&n&&(t.TgZ(0,"article",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t._uU(3,"\u{1f4a5} Something went wrong"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._uU(5," Sorry, we could not complete the operation. "),t.qZA(),t.qZA())},styles:[""],changeDetection:0}),e})(),G=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-loading"]],decls:7,vars:0,consts:[[1,"message","is-info","is-large"],[1,"message-header"],[1,"button","is-loading","is-info"],[1,"message-body"]],template:function(n,s){1&n&&(t.TgZ(0,"article",0),t.TgZ(1,"div",1),t.TgZ(2,"span"),t._uU(3,"Loading..."),t.qZA(),t._UZ(4,"span",2),t.qZA(),t.TgZ(5,"div",3),t._uU(6," Please wait while we retrieve the data ... "),t.qZA(),t.qZA())},styles:[""],changeDetection:0}),e})();function X(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"ab-projects",5),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("projects",t.lcZ(2,1,n.projects$))}}function K(e,o){if(1&e&&(t.ynx(0),t.YNc(1,X,3,3,"ng-container",1),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(),s=t.MAs(5);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.error$))("ngIfElse",s)}}function R(e,o){1&e&&t._UZ(0,"ab-error")}function tt(e,o){1&e&&t._UZ(0,"ab-loading")}const et=[{path:"",component:(()=>{class e{constructor(n){this.service=n,this.projects$=this.service.projectViews$,this.tasks$=this.service.tasks$,this.loading$=this.service.loading$,this.error$=this.service.error$}ngOnInit(){this.service.loadProjectViews()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ab-home"]],decls:20,vars:4,consts:[["pageTitle","Budget dashboard"],[4,"ngIf","ngIfElse"],["error",""],["loading",""],[1,"is-italic"],[3,"projects"]],template:function(n,s){if(1&n&&(t.TgZ(0,"ab-page",0),t.TgZ(1,"main"),t.YNc(2,K,3,4,"ng-container",1),t.ALo(3,"async"),t.YNc(4,R,1,0,"ng-template",null,2,t.W1O),t.YNc(6,tt,1,0,"ng-template",null,3,t.W1O),t._UZ(8,"hr"),t.TgZ(9,"pre"),t._uU(10,"      "),t.TgZ(11,"p",4),t._uU(12,"To do..."),t.qZA(),t._uU(13,"\n      "),t.TgZ(14,"li"),t._uU(15,"Tasks summary (total/pending)"),t.qZA(),t._uU(16,"\n      "),t.TgZ(17,"li"),t._uU(18,"Transactions summary (spending/earnings)"),t.qZA(),t._uU(19,"\n    "),t.qZA(),t.qZA(),t.qZA()),2&n){const c=t.MAs(7);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,s.loading$))("ngIfElse",c)}},directives:[A.I,i.O5,W,V,G],pipes:[i.Ov],styles:[""],changeDetection:0}),e})()}];let nt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(et)],d.Bz]}),e})(),ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.ez,nt,T.W,Z]]}),e})()}}]);